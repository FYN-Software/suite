<script src="https://unpkg.com/ag-grid/dist/ag-grid.min.noStyle.js"></script>

<link rel="stylesheet" type="text/css" href="/node_modules/@fyn-software/suite/css/style.css">

<style>
    :host {
        display: grid;
        grid-template-rows: auto 1fr;
        grid-gap: 1em;
        border-radius: var(--radius);
    }

    :host > bar {
        display: grid;
        grid-gap: 1em;
        grid-auto-flow: column;
        justify-content: start;
        border-radius: inherit;
        margin-top: 1em;
    }

    :host > bar > fyn-common-form-input {
        margin-top: 0;
    }
</style>

<bar>
    <fyn-common-form-input id="filter" name="grid-filter" label="t_search"></fyn-common-form-input>

    <fyn-common-form-button if="{{ editable === true }}" icons="plus" action="add" tooltip="t_new"></fyn-common-form-button>

    <fyn-common-form-button if="{{ editable === true }}" icons="trash" action="delete" tooltip="t_delete"></fyn-common-form-button>
</bar>

<!-- GRID -->
<table>
    <thead>
        <tr for="{{ column in columns }}">
            <th>{{ column }}</th>
        </tr>
    </thead>

    <tbody for="{{ row in rows }}">
        <tr for="{{ cell in row.cells }}">
            <td>{{ cell }}</td>
        </tr>
    </tbody>
</table>

<fyn-common-overlay-modal id="dataGridModal">
    <fyn-common-overlay-dialog id="deleteRowsDialog">
        <fyn-common-form-form name="deleteRowsForm">
            are you sure you want to permanently delete the following keys?

            <ul for="{{ i in selection }}">
                <li no-translate>{{ i }}</li>
            </ul>

            <fyn-common-form-button action="cancel" slot="buttons">t_cancel</fyn-common-form-button>

            <fyn-common-form-button action="submit" slot="buttons">t_submit</fyn-common-form-button>
        </fyn-common-form-form>
    </fyn-common-overlay-dialog>
</fyn-common-overlay-modal>
